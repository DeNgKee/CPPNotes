# 4. 类型提升

表达式中可以使用整数的地方，就可以使用枚举类型，或有符号或无符号的字符、短整数、整数位域。如果一个*int*可以表示上述类型，则该值被转化为*int*类型的值；否则，该值被转化为*unsigned int*类型的值。这一过程被称作*integral promotion*。

整型提升的意义在于：表达式的整型运算要在CPU的相应运算器件内执行，CPU内整型运算器(ALU)的操作数的字节长度一般就是*int*的字节长度，同时也是CPU的通用寄存器的长度。因此，即使两个*char*类型的相加，在CPU执行时实际上也要先转换为CPU内整型操作数的标准长度。通用CPU（*general-purpose CPU*）是难以直接实现两个8比特字节直接相加运算（虽然机器指令中可能有这种字节相加指令）。所以，表达式中各种长度可能小于`int`长度的整型值，都必须先转换为*int*或*unsigned int*，然后才能送入CPU去执行运算。

各种整形的长度：

| 类型      | 16位系统(byte) | 32位系统(byte) | 64位系统(byte) |
| --------- | :------------: | :------------: | :------------: |
| char      |       1        |       1        |       1        |
| char*     |       2        |       4        |       8        |
| short     |       2        |       2        |       2        |
| int       |       2        |       4        |       4        |
| long      |       4        |       4        |       8        |
| long long |       8        |       8        |       8        |

所以指针类型只能安全的转换成nullptr_t或者long long